package com.artifex.mupdf;

import java.util.Calendar;
import java.util.Timer;
import java.util.TimerTask;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.RelativeLayout;

public class MuPDFActivity extends Activity {
	PDFView aa;

	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
	
		RelativeLayout main = new RelativeLayout(this);
		aa = new PDFView(this);
		aa.OpenFile("/mnt/extsd/project/274/pdf/201406161613236901.pdf");
		aa.setSeconds(3);
		Button bb = new Button(this);

		RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
				RelativeLayout.LayoutParams.WRAP_CONTENT,
				RelativeLayout.LayoutParams.WRAP_CONTENT);

		params.addRule(RelativeLayout.ALIGN_PARENT_TOP);
		bb.setLayoutParams(params);

		bb.setText("释放");

		main.addView(aa);
		main.addView(bb);
		
		
		Button cc = new Button(this);
		RelativeLayout.LayoutParams params2 = new RelativeLayout.LayoutParams(
				RelativeLayout.LayoutParams.WRAP_CONTENT,
				RelativeLayout.LayoutParams.WRAP_CONTENT);
		params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
		
		cc.setLayoutParams(params2);
		cc.setText("加载");
		main.addView(cc);
		
		setContentView(main);

		bb.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				// TODO Auto-generated method stub
				aa.onDestroy();
			}
		});

		cc.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				// TODO Auto-generated method stub
				aa.onDestroy();
				aa.OpenFile("/mnt/extsd/project/274/pdf/201406161613236901.pdf");
			}
		});
		Timer timer=new   Timer();
		timer.schedule(new TimerTask() {
			
			@Override
			public void run() {
				// TODO Auto-generated method stub
				aa.post(new Runnable() {
					
					@Override
					public void run() {
						// TODO Auto-generated method stub
						aa.onDestroy();
						aa.OpenFile("/mnt/extsd/project/274/pdf/201406161613236901.pdf");
					}
				});
				
			}
		}, 3*1000,3*1000);
	}

	public void onDestroy() {

		super.onDestroy();
	}

}
